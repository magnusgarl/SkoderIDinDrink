Introduction,Author 1,Author 2,Author 3,Author 4,Author 5,Journal,Year,Citations
"1. FrameworkWe start this section by describing the economic environment and defining the model equilibrium. We then discuss how we solve the model numerically, since the model does not admit an analytic solution, and how our solution approach compares to existing work.1.1. Economic environmentConsider a world economy with many countries and two sectors. Countries are indexed byi,j,k∈1…Cand sectors are denoted bymandn, standing for manufacturing and non-manufacturing respectively, where non-manufacturing includes agriculture, natural resources, and services. Within each sector, there is a unit continuum of goods indexed byz. By way of notation, we put country labels in the superscript and good and sector labels in parentheses. We also assume that all goods and factor markets are perfectly competitive.1.1.1. ManufacturingThe manufacturing sector features a discrete multistage production process, as inYi, 2003,Yi, 2010. Each good requiress∈1…Sproduction stages to be completed sequentially, and subscripts on each variable index the production stage.Production in stage 1 uses labor and a composite input, and the production function for goodzis:(1)q1izm=T1izmΘ1mXizmθ1ml1izm1−θ1m,whereT1izmis the good-specific productivity of countryiin manufacturing stage 1,l1izmandXizmare the quantities of labor and the composite input used in production,θ1mis the share of the composite input in production in stage 1, andΘ1m=1−θ1m1−θ1mθ1mθ1is a normalization.Production at stagess>1requires labor and output from stages−1as inintermediate input, and the production function is given by:(2)qsizm=TsizmΘsmxs−1izmθsmlsizm1−θsm,whereTsizmis productivity in stages,xs−1izmis the quantity of the stages−1input used,lsizmis labor used,θsmis the cost share attached to the stages−1input, andΘsmis again a parameter normalization.11Output in each stage may be produced in any location, but every time output is shipped between countries it incurs a bilateral, sector-specific, ad valorem iceberg trade costτijm.121.1.2. Non-manufacturingThe non-manufacturing sector features Ricardian production and trade, as inEaton and Kortum (2002). Production of goodzin sectornrequires labor and the composite intermediate input:(3)qizn=TiznΘnXiznθnlizn1−θn.whereTiznis productivity,liznandXiznare the quantities of labor and the composite input used in production,θnis the share of the composite input in production, andΘnis a parameter normalization. Each non-manufacturing good can be produced in any location, and shipping from source to destination incurs bilateral, ad valorem iceberg trade costτijn, which may differ from the trade cost formanufactured goods.1.1.3. AggregationWithin each sector, competitive intermediary firms aggregate goods to form non-traded compositesQimandQin, which are sold to final consumers and used to form the composite input.13Each sector-level composite is a Cobb-Douglas combination individual goods:(4)Qim=exp∫01logq˜izmdz(5)Qin=exp∫01logq˜izndz,whereq˜izmandq˜iznare the quantities of each good purchased (from low cost sources at home or abroad) by countryi. For manufacturing,q˜izmrepresents purchases of stage S goods.These sector-level composite goods are combined by competitive intermediaries to form an aggregate final good and the composite input. The aggregate final good is given by:(6)Fi=AiFimαiFin1−αi,whereFimandFindenote the amount of the sector-level composite good that is used to produce the final good,αi∈01is a country-specific parameter, andAi=1−αi1−αiαiαiis a normalization term. The composite input is given by:(7)Xi=BXimβXin1−β,whereXimandXinare quantities of the sector-level composite goods used to produce the composite input,β∈01, andB=1−β1−βββ.141.1.4. HouseholdsConsumers supply labor inelastically to firms and consume the composite final goodFi. The consumer budget constraint is:wiLi=PFiFi+TBi, wherewiis the wage,Liis the labor endowment,PFiis the price of the final composite, andTBiis the nominal trade balance. The trade balance appears here in the budget constraint, since we treat it as an exogenous nominal transfer necessary to equate income and expenditure for each country.1.2. Model equilibriumWe first describe optimal sourcing decisions. We then define price indexes, collect market clearing conditions, and define the equilibrium.1.2.1. Input sourcingIntermediary firms in each destination minimize their costs by selecting the low cost supplier for each good. For non-manufacturing, letpjznbe the potential factory gate price that countryjcould supply goodz, sopjkzn=τjknpjznis the delivered price in countryk. The realized price of goodznin destinationkis then:(8)p˜kzn=minjpjkzn.The potential price at which competitive producers injcan supply non-manufacturing goodzis itself given bypjzn=wj1−θnPXjθnTjzn, wherePXjis the price of the composite input (defined below).For manufacturing, producers at each stages>1minimize their costs by choosing the low cost supplier for the stages−1input that they use. Ifpsjzmis the potential factory gate price that countryjcould supply stage-s of manufactured goodz, andpsjkzm=τjkmpsjzmis the delivered price in destinationkinclusive of trade costs, then optimal sourcing implies that the realized price for inputs used by stagesfirms in destinationkis:(9)p˜skzm=minjpsjkzm.For stagess>1, the potential factory gate price at which competitive producers in countryican supply stagesoutput is:(10)psjzm=wj1−θsmp˜s−1jzmθsmTsjzm.At stages=1, the potential factory gate price of output from countryiis:(11)p1izm=wi1−θ1mPXiθ1mT1izm,wherePXiis again the composite input price.We note that this chain of stage-sourcing problems has a natural recursive structure, a feature that has been noted byAntràs and de Gortari (2020)andTyazhelnikov, 2022as well. The price at which a firm producing at stages>1in countrykactually purchases its input is the minimum of the set of possible prices at which each countryjcould deliver that input, conditional on countryjchoosing the minimum cost source for its own purchases of stages−1output. Potential supply prices for stages−1inputs in turn depend on optimal sourcing further upstream, at stages−2. And so on. Finally, at stage 1, input supply prices depend on the composite input price in country in each country, which itself is a function of the realized prices (given optimal sourcing) of stage S output. We describe below how we exploit this structure to solve the model.1.2.2. Price indexes and market clearingGiven Eq.(4), the price of the manufacturing composite good isPim=exp∫01logp˜Sizmdz, and the price of the non-manufacturing composite good isPin=exp∫01logp˜izndz. Then, the price indexes forFiandXiarePFi=PimαiPin1−αiandPXi=PimβPin1−β.The market clearing conditions for output are:(12)qSizm=∑jτijmq˜jzm1pSijzm≤pSkjzm∀k≠i,(13)qsizm=∑jτijmxsjzm1psijzm≤pskjzm∀k≠ifor1≤s<S,(14)qizn=∑jτijnq˜jzn1pijzn≤pkjzn∀k≠i,where we use indicator functions (1⋅) to represent optimal sourcing decisions.For composite goods, market clearing equates their production and use:(15)Qim=Fim+Xim(16)Qin=Fin+Xin.Market clearing conditions for the composite input and the labor market are:(17)Xi=∫01Xizndz+∫01Xizmdz,(18)Li=∫01lizndz+∑s=1S∫01lsizmdz.1.2.3. EquilibriumGiven parametersαiθsβT1izmT2izmTiznτijmτijnLiTBi, the decentralized competitive equilibrium is a collection of priceswip˜1izmp˜2izmp˜iznPimPinPXiPFi, aggregate quantitiesFiXiQimQinFimFinXimXin, and production, sourcing, and input use decisionsXiznXizmliznlsizmqiznq˜iznqsizmxsizmq˜2izmsuch that producers maximize profits, consumers maximize real final expenditure subject to their budget constraint, and product and labor markets clear.1.3. Comments on roundabout and multistage productionPrior to discussing how we translate the model into a quantitative framework for analysis, we comment on two aspects of the economic environment.First, the model features both sequential multistage production and roundabout production. Roundabout production introduces a loop in the production process, which amplifies the ratio of gross output to value added. That is, gross output will exceed value added both because multistage production implies that inputs are produced and used up in the production process, but also because production in each sector uses its own output as inputs. Roundabout production also gives rise to input linkages across sectors in the model. We have assumed that sequential production is confined to the manufacturing sector, and that all cross-sector input flows are non-sequential in nature. Both these aspects of the model are important for how we calibrate the model to match the data, discussed further below.Second, the multistage component of the model is essential to understanding the behavior of the elasticity of trade flows to trade costs. One useful piece of intuition is that stages are more often co-located in the same country when trade costs are high. This implies that the model behaves more like a standard single-stage (multi-sector) Ricardian model as trade costs rise. Since the single-stage model features a constant partial elasticity of trade to changes in trade costs, the multistage model will also feature a near constant partial trade elasticity at high levels of trade costs. Further, it will also generate changes in trade and welfare that are similar to the Ricardian benchmark in response to marginal changes in trade costs when trade costs are initially high.As trade costs fall, it is increasingly attractive to exploit cost differences and break up production stages across countries. The ability to substitute over the location of individual stages, rather than simply over the location of production for entire goods, tends to amplify the sensitivity of trade to trade costs. The key mechanism is that trade costs are paid on the full value of stage output, while cost savings of shifting the location of a single stage of the production process apply only to the value added at that stage. For downstream production stages, the value of gross output – and thus the trade cost paid for exporting downstream output – is large relative to the marginal value added at that stage. This deters the formation of value chains in which inputs from home are used abroad and the final good is re-exported, either back home or to third countries.Yi (2010)refers to this as the “effective rate of protection” force.At intermediate levels of trade costs, the model economy features both standard Ricardian trade, where consumers substitute across entire goods, and trade through multistage value chains in which agents substitute over production locations for each stage. Therefore, the aggregate model elasticity of trade to trade costs depends on the mix of Ricardian versus multistage trade. As trade costs fall, the share of trade via multistage value chains rises, so we expect the elasticity of trade to trade costs to rise as well.1.4. Solving the modelWe describe solution of the model for the non-manufacturing sector and manufacturing sector separately, since we treat them in somewhat different ways. While we continue to assume that there is a continuum of goods in non-manufacturing, we introduce a discrete approximation to the continuum of goods in manufacturing, followingYi, 2003,Yi, 2010. Further, we describe and evaluate alternative computational approaches to solving the model.1.4.1. Non-manufacturingAs inEaton and Kortum (2002), we assume that technology parametersTiznare independent draws from Fréchet distributions, which have shape parameterκ(common to all countries) and country-specific location parametersTin. We can then solve for trade shares and price indexes in closed form:(19)πjin=Tjnτjinwj1−θnPXjθn−κ∑jTjnτjinwj1−θnPXjθn−κ,(20)Pin=expγ/κ∑jTjnτjinwj1−θnPXjθn−κ−1/κ.,whereγis the Euler-Mascheroni constant. The ability to solve for the non-manufacturing equilibrium in closed form is useful, because it facilitates computation of the full model equilibrium.1.4.2. ManufacturingWe assume that there are a finite number of manufactured goods, and letr=1…Rindex individual goods. The equilibrium of the model is essentially the same as described above, withrrather thanzindexing goods in manufacturing and summations over this set of goods replacing integrals where appropriate. Further, while we left the number of production stages (S) unspecified above, we now assume that there are two production stages in manufacturing (S=2), followingYi, 2003,Yi, 2010.15In solving this discretized model, two interesting computational issues present themselves. The first concerns how we exploit the recursive structure of sourcing decisions to solve the model. The second is related to how we handle potential discontinuities in equilibrium variables, which arise due to the discrete number of goods and stages. We now discuss both issues and the approaches we use to address them.Recursive SolutionInSection 1.2.1, we described optimal input sourcing by cost minimizing producers at each stage in Eqs.(9),(10),(11). We exploit the recursive structure of these sourcing decisions to solve for optimal sourcing via forward induction.To describe the algorithm briefly, with an initial guess for wages (wi) and the aggregate input price index (PXi), we can computep1irmfor all potential sourcesiusing Eq.(11). Minimizing over theseCalternatives for each downstream countyjat stage 2 yieldsp˜2jrm, and then one computes potential supply prices for output at stage 2 (p2jrm) using Eq.(10). Each buyer of stage 2 output then minimizes over these supply prices, inclusive of trade costs. An important insight is that solving the model forward like this entails taking the minimum over a set with dimensionCat each stage, and thus it requires computation ofCStotal potential supply prices along the chain to serve each destination.Alternative assumptions about the economic environment and/or equilibrium concept entail potentially more burdensome computations. For example,Antràs and de Gortari (2020)formulate a multistage sourcing problem in which a “lead firm” chooses the location of all stages in the production chain for a given good. Under full information about the costs of production in each country, a brute force solution to the lead firm's problem would entail computing potential output prices for theCSpossible configurations of that firm's production chain and then choosing the lowest cost alternative. To distinguish this from our recursive approach, we refer to this alternative as the combinatorial approach to solving for the optimal production chain.Whether recursive and combinatorial approaches to computing optimal production chains coincide is not immediately obvious. An important contribution ofAntràs and de Gortari (2020)is to show that the solution to the lead firm problem coincides with the decentralized, competitive equilibrium (as defined above) when the production technology has constant returns to scale.16Thus, rather than computingCSsupply prices, one can solve the the lead firm problem using the same forward induction algorithm as above. On the flipside, one can then also solve for the decentralized, competitive equilibrium in our model using the combinatorial approach.17This discussion highlights an interesting computational question: how large are the speed gains from invoking recursion in solving the model? The answer is that they are substantial: the recursive solution is about 80% faster than the combinatorial solution. Further, since computation time rises with the number of goods, countries, and stages, the absolute time savings are larger as the scale of the model grows. We discuss these comparisons between recursive and combinatorial approaches further inAppendix B.Smoothing the EquilibriumAs in Ricardian models with a finite number of goods, the equilibrium of this discretized model is not continuous in the underlying parameters. This makes the model challenging to solve numerically, and hence also to estimate the model parameters via simulated method of moments. The standard approach to dealing with this complication would be to approximate the continuum with a “large” number of goods, where “large” means a high enough value forRso that the discretized model equilibrium conditions are sufficiently smooth to be accurately solved with standard (gradient-based) numerical methods.18In our multi-country setting, this standard approach is costly to compute, so we adopt a different procedure that allows us to use a “small” value forRand thus accelerate computation.Noting the similarity between sourcing decisions in the model and consumer optimization in discrete choice models, we borrow a smoothing technique developed to facilitate simulation of choice probabilities in the discrete choice literature. The key observation is that – like simulated choice probabilities – sourcing decisions and hence trade shares are discontinuous. These discontinuities are associated with the presence of indicator functions in the market clearing conditions of the model, as well as in the moments (trade shares) that we use to estimate the model inSection 2.1.2. Drawing onMcFadden (1989), we approximate the indicator function with a continuous logit function, as in:(21)1psijrm≤pskjrm∀k≠i≈e−psijrm/λ∑ke−pskjrm/λ,whereλ>0is a smoothing parameter that determines the accuracy of the approximation.19Intuitively, when countryiis a relatively high cost supplier toj(near the max of the setpskjrm), the logit function takes on a value near zero. In contrast, as countryi’s price falls relative to its competitors, the logit function smoothly converges to one.With this assumption, the market clearing conditions for manufacturing in the smoothed, discretized model become:(22)qSirm=∑jτijmq˜jrme−pSijrm/λ∑ke−pSkjrm/λ,(23)qsirm=∑jτijmxsjrme−psijrm/λ∑ke−pskjrm/λfor1≤s<S.Having adopted this solution technique, then we are faced with choosing the actual number of goods (R) to use in approximating the equilibrium. While a low value ofRspeeds computation, a high value ofRwill yield a solution that more accurately reflects the equilibrium in the “true model” with a continuum of goods. InAppendix B, we evaluate this trade off. There are substantial speed gains from lowering the number of goods. For the recursive solution algorithm, lowering the number of goods from 200,000 to 20,000 leads to a 90% reduction in time to solve the model once, which then accelerates estimation. Speed gains from lowering the number of goods are even larger if one solves for optimal chains using the combinatorial approach, instead of the recursive approach. Further, lowering the number of goods over this interval has relatively small costs in terms of diminished model accuracy. Informed by this discussion, we proceed to solve and estimate the model withR=20,000below.1.4.3. General equilibrium algorithmWhile we described how we solve the sourcing problem via recursion above, it remains to embed the solution into general equilibrium. Given parametersαiθsβTinκτijmτijn, dataLiTBi, and manufacturing productivitiesTsirm, and an initial guess for the vector of wages, we can solve for the optimal assignment of stages to countries and equilibrium prices in manufacturing, along with equilibrium prices in non-manufacturing. Given this, we then construct manufacturing and non-manufacturing production, and thus labor demanded. An equilibrium vector of wages equateslabor demandand labor supply, as in Eq.(18). We describe further details of the algorithm inAppendix A.",Robert,Andreas,None,None,None,Journal of International Economics,"Volume 145, November 2023, 103796",0
